; PlatformIO Project Configuration File
;
;   Build options: build flags, source filter
;   Upload options: custom upload port, speed and extra flags
;   Library options: dependencies, extra library storages
;   Advanced options: extra scripting
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

; NOTE: When changing these platformio.ini files it sometimes helps to delete
; the ./.pio folder before rebuilding.

[paltformio]
default_envs = tv_slider_P1AM
description = TV Slider Test Rig
include_dir = src
lib_dir = lib

[common_env_data]
build_flags = 
	-D __ASSERT_USE_STDERR
lib_deps_builtin = 
	SPI
	Wire
lib_deps_external = 
	arduino-libraries/Ethernet@^2.0.0
	thijse/ArduinoLog@^1.1.1
	
	; Helper libary to abstract away I2C & SPI transactions and registers
	adafruit/Adafruit BusIO@^1.8.2
	; For relays
	sparkfun/SparkFun Qwiic Relay Arduino Library@^1.2.0
	; For slider contacts
	sparkfun/SparkFun Qwiic Button and Qwiic Switch Library @ ^2.0.5

; https://github.com/facts-engineering/P1AM
[env:tv_slider_P1AM]
platform = atmelsam
board = mkrzero
framework = arduino
;upload_port = COM5
upload_speed = 115200
monitor_port = COM5
monitor_speed = 115200
build_flags = 
	${common_env_data.build_flags}
lib_deps = 
	${common_env_data.lib_deps_builtin}
	${common_env_data.lib_deps_external}
	;Time of Flight distance sensor
	; USING FORKED VERSIONS
	;adafruit/Adafruit_VL53L0X@^1.1.0
	;Adafruit VL6180X Time of Flight Distance Ranging Sensor
	;adafruit/Adafruit_VL6180X@^1.2.0
	; We used forked version https://github.com/tig/SparkFun_VL53L1X_Arduino_Library
	;sparkfun/SparkFun VL53L1X 4m Laser Distance Sensor@^1.2.9
	sparkfun/SparkFun I2C Mux Arduino Library@^1.0.1
	facts-engineering/P1AM@^1.0.3
